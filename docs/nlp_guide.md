# NLP高级功能使用指南

本指南将帮助您了解和使用法律文本清洗系统中的NLP（自然语言处理）高级功能。

## 功能概述

系统集成了三种基于深度学习的NLP功能：

1. **文本摘要** - 自动生成文档的摘要内容
2. **关键词提取** - 识别文本中的重要词汇和实体
3. **情感分析** - 评估文本的情感倾向（积极/消极）

## 使用步骤

### 1. 确认模型加载状态

首次启动应用时，系统会尝试加载NLP模型。在主页面中，您可以看到"使用NLP高级功能"选项旁的状态：

- 如果模型已成功加载，此选项可以正常勾选
- 如果显示"模型未加载"警告，表示模型未能成功加载，需要检查日志或系统配置

![模型状态示例](../docs/images/model_status.png)

### 2. 选择NLP功能

勾选"使用NLP高级功能"后，可以选择以下处理方式：

- **全部功能** - 同时使用所有三种NLP功能
- **仅文本摘要** - 只生成文档摘要
- **仅关键词提取** - 只提取关键词
- **仅情感分析** - 只进行情感分析

根据您的需求选择适当的功能。如果文档较长，选择单一功能可以减少处理时间。

### 3. 上传并处理文件

正常上传文件并选择处理模式（完整处理、仅格式清洗或仅语义净化）。NLP功能会在基础处理完成后应用到处理结果上。

### 4. 查看NLP结果

处理完成后，除了常规的处理结果文本外，系统会在下方显示"NLP分析结果"面板：

![NLP结果示例](../docs/images/nlp_results.png)

#### 文本摘要

摘要部分展示了文档的关键要点概述，可帮助快速了解文档内容。对于长文档特别有用。

#### 关键词提取

关键词以标签形式展示，这些是文档中最重要的词汇和实体。可用于文档分类、索引或快速把握文档主题。

#### 情感分析

情感分析以进度条形式展示文档的情感倾向：
- 绿色表示积极情感
- 红色表示消极情感
- 百分比表示情感强度

## 性能考虑

1. **处理时间**：使用NLP功能会增加处理时间，特别是对于较长的文档
2. **内存使用**：NLP模型需要较多内存，建议系统至少有8GB RAM
3. **GPU加速**：如果您的系统有NVIDIA GPU并配置了CUDA环境，处理速度会显著提升

## 故障排除

如果遇到NLP功能相关问题：

1. **模型未加载**
   - 检查网络连接是否正常
   - 确认系统有足够的磁盘空间存储模型（约需1-2GB）
   - 查看应用日志了解详细错误信息

2. **处理超时**
   - 尝试处理较小的文档
   - 只选择单一NLP功能而非全部功能
   - 使用GPU加速（如果可用）

3. **结果不符合预期**
   - 注意当前NLP模型主要针对中文文本优化
   - 文档质量和格式会影响NLP处理效果
   - 对于专业性很强的法律术语，模型可能需要进一步优化

## 高级用户提示

1. **优化TF-IDF与NLP组合**：对于较长文档，先用较高的TF-IDF阈值（如0.5-0.6）进行语义净化，再应用NLP功能，可以获得更精确的结果

2. **批量处理**：如需处理大量文档，建议将此系统集成到自动化流程中，可通过API方式调用

3. **模型自定义**：高级用户可以修改`app.py`中的模型加载部分，使用自己训练的模型来提高特定领域的准确度 